services:
  fileserver:
    build:
      context: .
      dockerfile: Dockerfile
    restart: always
    ports:
      - "445:445"
    volumes:
      # mount user and group files to sync uids and gids
      - /etc/passwd:/etc/passwd:ro
      - /etc/group:/etc/group:ro
      # mount smb.conf
      - ./smb.conf:/etc/samba/smb.conf:ro
      # mount data volumes into /mnt/<sharename>
      - /mnt/NVME:/mnt/public:rw
